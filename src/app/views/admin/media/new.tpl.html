<div class="container">
    <h3>Add Media</h3>

    <fieldset ng-file-drop="onFileSelect($files)"
         ng-file-drop-available="dropSupported=true">
        <legend>Upload File from Computer</legend>

        <dl class="dl-horizontal">
            <dt>
                <label for="fileSelect">Select File</label>
            </dt>
            <dd>
                <div class="form-group" ng-hide="data.upload.file">
                    <span class="btn btn-primary btn-sm btn-file">
                        <span class="fa fa-file"></span> Browse... <input id="fileSelect" type="file" ng-file-select="onFileSelect($files)">
                    </span>

                    <div class="drag-and-drop-area text-center" ng-show="dropSupported" ng-file-drop="onFileSelect($files);" ng-file-drop-available="dropSupported=true">
                        <span class="fa-5x fa fa-file"></span><br>
                        ...or drag and drop a file here.
                    </div>

                    <div class="drag-and-drop-area text-center" ng-show="!dropSupported">Use the browse file button above to select a file from your computer.</div>
                </div>

                <div class="form-group input-group input-group-sm" ng-show="data.upload.file">
                    <input type="text" class="form-control" ng-model="data.upload.file.name" disabled />
                    <span class="input-group-btn">
                        <button class="btn btn-default btn-sm" type="button" ng-click="remove()">
                            <span class="fa fa-ban"></span> Remove File
                        </button>
                    </span>
                </div>

                <progressbar ng-show="data.upload.file" animate="false" max="100" value="data.upload.progress" type="success"><strong>{{data.upload.progress}}%</strong></progressbar>
            </dd>
        </dl>
    </fieldset>

    <form novalidate name="mediaForm">
        <fieldset ng-disabled="data.upload.progress">
            <dl class="dl-horizontal">
                <dt><label for="fileDisplayName">Display Name</label></dt>
                <dd class="input-group-sm">
                    <input id="fileDisplayName" type="text" class="form-control" placeholder="Display Name (Required)" ng-model="data.media.name" required />
                </dd>
            </dl>
        </fieldset>

        <fieldset ng-disabled="data.upload.progress">
            <legend>Media Attributes</legend>

            <dl class="dl-horizontal">
                <dt><label for="fileDescription">Description</label></dt>
                <dd class="input-group-sm">
                    <textarea id="fileDescription" class="form-control vertical-only" rows="3" placeholder="Description of the media" ng-model="data.media.description"></textarea>
                </dd>
            </dl>

            <dl class="dl-horizontal">
                <dt><label for="fileTags">Tags</label></dt>
                <dd class="input-group-sm">
                    <input id="fileTags" type="text" class="form-control" placeholder="Separate tags with commas" ng-model="data.media.tag_list" />
                </dd>
            </dl>

            <dl class="dl-horizontal">
                <dt><label for="fileExpirationDate">Expiration Date</label></dt>
                <dd class="input-group input-group-sm">
                    <input id="fileExpirationDate" type="text" class="form-control" datepicker-popup="{{datepicker.format}}" is-open="datepicker.expireAtOpen" show-weeks="false" ng-model="data.media.deactive_at" placeholder="Media expiration date"/><span class="input-group-btn"><button class="btn btn-default" ng-click="datepicker.open('expireAtOpen')"><i class="fa fa-calendar"></i></button></span>
                </dd>
            </dl>
        </fieldset>
    </form>

    <dl class="dl-horizontal">
        <dt></dt>
        <dd>
            <button class="btn btn-primary btn-sm" ng-disabled="!data.upload.progress && (!data.upload.file || mediaForm.$invalid)" ng-click="startUpload()">
                <span class="fa fa-cloud-upload"></span> Add Media
            </button>

            <button class="btn btn-sm" ng-disabled="!data.upload.progress" ng-click="upload.abort()">
                <span class="fa fa-reply"></span> Return to Media Library
            </button>
        </dd>
    </dl>
</div>